{
    "ids:consumer": "http://example.com/ids/party/consumer-party",
    "@type": "ids:ContractAgreement",
    "ids:provider": "http://example.com/party/my-party",
    "profile": "http://example.com/ids-profile",
    "ids:permission": [
        {
            "ids:postDuty": [
                {
                    "ids:action": [{
                        "ids:pxpEndpoint": {
                            "@type": "ids:PXP",
                            "ids:interfaceDescription": {
                                "@value": "https://example.com/ids/PXP/interfaceDescription/log",
                                "@type": "anyURI"
                            },
                            "ids:endpointURI": {
                                "@value": "https://example.com/ids/PXPendpoint/log",
                                "@type": "anyURI"
                            }
                        },
                        "ids:refinement": [
                            {
                                "@type": "ids:Constraint",
                                "ids:comment": "  ",
                                "ids:rightOperand": [{
                                    "@value": "idsc:ON_DUTY_EXERCISED",
                                    "@type": "xsd:string"
                                }],
                                "ids:leftOperand": {"@id": "idsc:LOG_LEVEL"},
                                "ids:operator": {"@id": "idsc:DEFINES_AS"}
                            },
                            {
                                "@type": "ids:Constraint",
                                "ids:comment": "  ",
                                "ids:rightOperand": [{
                                    "@value": "SystemDevice1",
                                    "@type": "xsd:anyURI"
                                }],
                                "ids:leftOperand": {"@id": "idsc:SYSTEM_DEVICE"},
                                "ids:operator": {"@id": "idsc:DEFINES_AS"}
                            }
                        ],
                        "rdf:value": {"@id": "idsc:LOG"}
                    }],
                    "@type": "ids:Duty"
                },
                {
                    "ids:action": [{
                        "ids:pxpEndpoint": {
                            "@type": "ids:PXP",
                            "ids:interfaceDescription": {
                                "@value": "https://example.com/ids/PXP/interfaceDescription/notify",
                                "@type": "anyURI"
                            },
                            "ids:endpointURI": {
                                "@value": "https://example.com/ids/PXPendpoint/notify",
                                "@type": "anyURI"
                            }
                        },
                        "ids:refinement": [
                            {
                                "@type": "ids:Constraint",
                                "ids:comment": "  ",
                                "ids:rightOperand": [{
                                    "@value": "idsc:ON_ALLOW",
                                    "@type": "xsd:string"
                                }],
                                "ids:leftOperand": {"@id": "idsc:NOTIFICATION_LEVEL"},
                                "ids:operator": {"@id": "idsc:DEFINES_AS"}
                            },
                            {
                                "@type": "ids:Constraint",
                                "ids:comment": "  ",
                                "ids:rightOperand": [{
                                    "@value": "InformParty",
                                    "@type": "xsd:anyURI"
                                }],
                                "ids:leftOperand": {"@id": "idsc:RECIPIENT"},
                                "ids:operator": {"@id": "idsc:DEFINES_AS"}
                            }
                        ],
                        "rdf:value": {"@id": "idsc:NOTIFY"}
                    }],
                    "@type": "ids:Duty"
                },
                {
                    "ids:action": [{
                        "ids:pxpEndpoint": {
                            "@type": "ids:PXP",
                            "ids:interfaceDescription": {
                                "@value": "https://example.com/ids/PXP/interfaceDescription/delete",
                                "@type": "anyURI"
                            },
                            "ids:endpointURI": {
                                "@value": "https://example.com/ids/PXPendpoint/delete",
                                "@type": "anyURI"
                            }
                        },
                        "ids:refinement": [{
                            "@type": "ids:Constraint",
                            "ids:pipEndpoint": {
                                "@type": "ids:PIP",
                                "ids:interfaceDescription": {
                                    "@value": "https://example.com/ids/PIP/interfaceDescription/date_time",
                                    "@type": "anyURI"
                                },
                                "ids:endpointURI": {
                                    "@value": "https://example.com/ids/PXPendpoint/date_time",
                                    "@type": "anyURI"
                                }
                            },
                            "ids:rightOperand": [{
                                "@value": "2021-12-16T21:08",
                                "@type": "xsd:datetimeStamp"
                            }],
                            "ids:leftOperand": {"@id": "idsc:DATE_TIME"},
                            "ids:operator": {"@id": "idsc:BEFORE"}
                        }],
                        "rdf:value": {"@id": "idsc:DELETE"}
                    }],
                    "@type": "ids:Duty"
                },
                {
                    "ids:action": [{
                        "ids:pxpEndpoint": {
                            "@type": "ids:PXP",
                            "ids:interfaceDescription": {
                                "@value": "https://example.com/ids/PXP/interfaceDescription/replace",
                                "@type": "anyURI"
                            },
                            "ids:endpointURI": {
                                "@value": "https://example.com/ids/PXPendpoint/replace",
                                "@type": "anyURI"
                            }
                        },
                        "ids:refinement": [
                            {
                                "@type": "ids:Constraint",
                                "ids:rightOperand": [{
                                    "@value": "ValueToChange",
                                    "@type": "xsd:string"
                                }],
                                "ids:leftOperand": {"@id": "idsc:REPLACE_WITH"},
                                "ids:operator": {"@id": "idsc:DEFINES_AS"}
                            },
                            {
                                "@type": "ids:Constraint",
                                "ids:rightOperand": [{
                                    "@value": "Field1",
                                    "@type": "xsd:string"
                                }],
                                "ids:leftOperand": {"@id": "idsc:JSON_PATH"},
                                "ids:operator": {"@id": "idsc:DEFINES_AS"}
                            }
                        ],
                        "rdf:value": {"@id": "idsc:REPLACE"}
                    }],
                    "@type": "ids:Duty"
                },
                {"ids:action": [{
                    "ids:pxpEndpoint": {
                        "@type": "ids:PXP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PXP/interfaceDescription/anonymize",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/anonymize",
                            "@type": "anyURI"
                        }
                    },
                    "@id": "idsc:ANONYMIZE"
                }]}
            ],
            "ids:action": [{"@id": "idsc:USE"}],
            "ids:constraint": [
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/absolute_spatial_position",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/absolute_spatial_position",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "location1",
                        "@type": "xsd:anyURI"
                    }],
                    "ids:leftOperand": {"@id": "idsc:ABSOLUTE_SPATIAL_POSITION"},
                    "ids:operator": {"@id": "idsc:SAME_AS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/application",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/application",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "Application1",
                        "@type": "xsd:anyURI"
                    }],
                    "ids:leftOperand": {"@id": "idsc:APPLICATION"},
                    "ids:operator": {"@id": "idsc:SAME_AS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/role",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/role",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "idsc:ADMIN",
                        "@type": "xsd:string"
                    }],
                    "ids:leftOperand": {"@id": "idsc:ROLE"},
                    "ids:operator": {"@id": "idsc:EQUALS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/connector",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/connector",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "Connector1",
                        "@type": "xsd:anyURI"
                    }],
                    "ids:leftOperand": {"@id": "idsc:CONNECTOR"},
                    "ids:operator": {"@id": "idsc:SAME_AS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/security_level",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/security_level",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "idsc:TRUST_SECURITY_PROFILE",
                        "@type": "xsd:string"
                    }],
                    "ids:leftOperand": {"@id": "idsc:SECURITY_LEVEL"},
                    "ids:operator": {"@id": "idsc:EQUALS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/state",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/state",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "CONTRACTNOTTERMINATED",
                        "@type": "xsd:string"
                    }],
                    "ids:leftOperand": {"@id": "idsc:STATE"},
                    "ids:operator": {"@id": "idsc:EQUALS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/purpose",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/purpose",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "http://example.com/ids-purpose/Marketing",
                        "@type": "xsd:anyURI"
                    }],
                    "ids:leftOperand": {"@id": "https://w3id.org/idsa/core/purpose"},
                    "ids:operator": {"@id": "idsc:SAME_AS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/event",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/event",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "event1",
                        "@type": "xsd:anyURI"
                    }],
                    "ids:leftOperand": {"@id": "idsc:EVENT"},
                    "ids:operator": {"@id": "idsc:SAME_AS"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/count",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/count",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "222",
                        "@type": "xsd:decimal"
                    }],
                    "ids:leftOperand": {"@id": "idsc:COUNT"},
                    "ids:operator": {"@id": "idsc:LTEQ"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/date_time",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/date_time",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "2022-01-05T20:47",
                        "@type": "xsd:datetimeStamp"
                    }],
                    "ids:leftOperand": {"@id": "idsc:DATE_TIME"},
                    "ids:operator": {"@id": "idsc:BEFORE"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/date_time",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/date_time",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "2021-12-16T20:47",
                        "@type": "xsd:datetimeStamp"
                    }],
                    "ids:leftOperand": {"@id": "idsc:DATE_TIME"},
                    "ids:operator": {"@id": "idsc:AFTER"}
                },
                {
                    "ids:contract": "http://dbpedia.org/page/Rent",
                    "@type": "ids:Constraint",
                    "ids:unit": "http://dbpedia.org/resource/Euro",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/pay_amount",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/pay_amount",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "10",
                        "@type": "http://www.w3.org/2001/XMLSchema#double"
                    }],
                    "ids:leftOperand": {"@id": "idsc:PAY_AMOUNT"},
                    "ids:operator": {"@id": "idsc:EQ"}
                },
                {
                    "@type": "ids:Constraint",
                    "ids:pipEndpoint": {
                        "@type": "ids:PIP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PIP/interfaceDescription/elapsed_time",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/elapsed_time",
                            "@type": "anyURI"
                        }
                    },
                    "ids:rightOperand": [{
                        "@value": "P2021Y10M21DT10H",
                        "@type": "xsd:duration"
                    }],
                    "ids:leftOperand": {"@id": "idsc:ELAPSED_TIME"},
                    "ids:operator": {"@id": "idsc:SHORTER_EQ"}
                }
            ],
            "ids:target": {"@id": "http://target/"}
        },
        {
            "ids:action": [{"@id": "idsc:DISTRIBUTE"}],
            "ids:constraint": [{
                "@type": "ids:Constraint",
                "ids:pipEndpoint": {
                    "@type": "ids:PIP",
                    "ids:interfaceDescription": {
                        "@value": "https://example.com/ids/PIP/interfaceDescription/artifact_state",
                        "@type": "anyURI"
                    },
                    "ids:endpointURI": {
                        "@value": "https://example.com/ids/PXPendpoint/artifact_state",
                        "@type": "anyURI"
                    }
                },
                "ids:comment": "  ",
                "ids:rightOperand": [{
                    "@value": "idsc:ANONYMIZED",
                    "@type": "xsd:string"
                }],
                "ids:leftOperand": {"@id": "idsc:ARTIFACT_STATE"},
                "ids:operator": {"@id": "idsc:EQUALS"}
            }],
            "ids:preDuty": [{
                "ids:action": [{
                    "ids:pxpEndpoint": {
                        "@type": "ids:PXP",
                        "ids:interfaceDescription": {
                            "@value": "https://example.com/ids/PXP/interfaceDescription/next_policy",
                            "@type": "anyURI"
                        },
                        "ids:endpointURI": {
                            "@value": "https://example.com/ids/PXPendpoint/next_policy",
                            "@type": "anyURI"
                        }
                    },
                    "ids:refinement": [{
                        "@type": "ids:Constraint",
                        "ids:comment": "  ",
                        "ids:rightOperand": [{
                            "@value": "Policy1",
                            "@type": "xsd:anyURI"
                        }],
                        "ids:leftOperand": {"@id": "idsc:TARGET_POLICY"},
                        "ids:operator": {"@id": "idsc:DEFINES_AS"}
                    }],
                    "rdf:value": {"@id": "idsc:NEXT_POLICY"}
                }],
                "@type": "ids:Duty"
            }],
            "ids:target": {"@id": "http://target/"}
        }
    ],
    "@id": "https://w3id.org/idsa/autogen/contract/complex-policy-access",
    "@context": {
        "ids": "https://w3id.org/idsa/core/",
        "idsc": "https://w3id.org/idsa/code/"
    }
}
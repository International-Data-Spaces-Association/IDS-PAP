{"@context": {"ids":"https://w3id.org/idsa/core/","idsc" : "https://w3id.org/idsa/code/"},"@type": "ids:ContractAgreement","@id": "https://w3id.org/idsa/autogen/contract/complex-policy-access","profile": "http://example.com/ids-profile","ids:provider": "http://example.com/party/my-party","ids:consumer": "http://ids.org/party/consumer-party/","ids:permission": [{"ids:target": {"@id":"http://target/"},"ids:action": [{"@id":"idsc:USE"}],"ids:preDuty": [{"@type":"ids:Duty","ids:action": [{"@id":"idsc:REPLACE","ids:refinement": [{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:REPLACE_WITH"},"ids:operator": { "@id": "idsc:DEFINES_AS"},"ids:rightOperand": [{"@value": "Field1", "@type": "xsd:string"}]},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:JSON_PATH"},"ids:operator": { "@id": "idsc:DEFINES_AS"},"ids:rightOperand": [{"@value": "ValueToChange", "@type": "xsd:string"}]}] ,"ids:pxpEndpoint":{"@type":"ids:PXP","ids:interfaceDescription":{"@value":"https://ids.org/PXP/interfaceDescription/replace","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/replace","@type":"anyURI"}}}]},{"ids:action": [{"@id":"idsc:ANONYMIZE","ids:pxpEndpoint":{"@type":"ids:PXP","ids:interfaceDescription":{"@value":"https://ids.org/PXP/interfaceDescription/anonymize","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/anonymize","@type":"anyURI"}}}]}],"ids:constraint": [{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:ABSOLUTE_SPATIAL_POSITION"},"ids:operator": { "@id": "idsc:SAME_AS"},"ids:rightOperand": [{"@value": "location1", "@type": "xsd:anyURI"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/absolute_spatial_position","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/absolute_spatial_position","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:APPLICATION"},"ids:operator": { "@id": "idsc:SAME_AS"},"ids:rightOperand": [{"@value": "Application1", "@type": "xsd:anyURI"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/application","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/application","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:ROLE"},"ids:operator": { "@id": "idsc:EQUALS"},"ids:rightOperand": [{"@value": "idsc:ADMIN", "@type": "xsd:string"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/role","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/role","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:CONNECTOR"},"ids:operator": { "@id": "idsc:SAME_AS"},"ids:rightOperand": [{"@value": "Connector1", "@type": "xsd:anyURI"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/connector","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/connector","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:SECURITY_LEVEL"},"ids:operator": { "@id": "idsc:EQUALS"},"ids:rightOperand": [{"@value": "idsc:TRUST_SECURITY_PROFILE", "@type": "xsd:string"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/security_level","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/security_level","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:STATE"},"ids:operator": { "@id": "idsc:EQUALS"},"ids:rightOperand": [{"@value": "CONTRACTNOTTERMINATED", "@type": "xsd:string"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/state","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/state","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "https://w3id.org/idsa/core/purpose"},"ids:operator": { "@id": "idsc:SAME_AS"},"ids:rightOperand": [{"@value": "http://example.com/ids-purpose/Marketing", "@type": "xsd:anyURI"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/purpose","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/purpose","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:EVENT"},"ids:operator": { "@id": "idsc:SAME_AS"},"ids:rightOperand": [{"@value": "event1", "@type": "xsd:anyURI"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/event","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/event","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:COUNT"},"ids:operator": { "@id": "idsc:LTEQ"},"ids:rightOperand": [{"@value": "222", "@type": "xsd:decimal"}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/count","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/count","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:DATE_TIME"},"ids:operator": { "@id": "idsc:TEMPORAL_EQUALS"},"ids:rightOperand": [{"@type": "ids:Interval","ids:begin": {"@type": "ids:Instant","ids:dateTime": {"@type": "xsd:datetimeStamp","@value": "2021-12-16T20:47"}},"ids:end": {"@type": "ids:Instant","ids:dateTime": {"@type": "xsd:datetimeStamp","@value": "2022-01-05T20:47"}}}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/date_time","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/date_time","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:DATE_TIME"},"ids:operator": { "@id": "idsc:BEFORE"},"ids:rightOperand": [{"@type": "ids:Instant","ids:dateTime": {"@type": "xsd:datetimeStamp","@value": "2021-12-16T20:43"}}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/date_time","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/date_time","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:PAY_AMOUNT"},"ids:operator": { "@id": "idsc:EQ"},"ids:rightOperand": [{"@value": "10", "@type": "http://www.w3.org/2001/XMLSchema#double"}],"ids:contract": "http://dbpedia.org/page/Rent","ids:unit": "http://dbpedia.org/resource/Euro","ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/pay_amount","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/pay_amount","@type":"anyURI"}}},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:ELAPSED_TIME"},"ids:operator": { "@id": "idsc:SHORTER_EQ"},"ids:rightOperand": [{"@type": "ids:durationEntity","ids:begin": {"@type": "ids:Instant","ids:dateTime": {"@type": "xsd:datetimeStamp","@value": "2021-12-16T20:43"}},"ids:hasDuration": {"@type": "xsd:duration","@value": "P2021Y10M21DT10H"}}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/elapsed_time","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/elapsed_time","@type":"anyURI"}}}] ,"ids:postDuty": [{"@type":"ids:Duty","ids:action": [{"@id":"idsc:LOG","ids:refinement": [{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:LOG_LEVEL"},"ids:operator": { "@id": "idsc:DEFINES_AS"},"ids:rightOperand": [{"@value": "idsc:ON_DUTY_EXERCISED", "@type": "xsd:string"}],"ids:comment": "  "},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:SYSTEM_DEVICE"},"ids:operator": { "@id": "idsc:DEFINES_AS"},"ids:rightOperand": [{"@value": "SystemDevice1", "@type": "xsd:anyURI"}],"ids:comment": "  "}] ,"ids:pxpEndpoint":{"@type":"ids:PXP","ids:interfaceDescription":{"@value":"https://ids.org/PXP/interfaceDescription/log","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/log","@type":"anyURI"}}}]},{"@type":"ids:Duty","ids:action": [{"@id":"idsc:NOTIFY","ids:refinement": [{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:NOTIFICATION_LEVEL"},"ids:operator": { "@id": "idsc:DEFINES_AS"},"ids:rightOperand": [{"@value": "idsc:ON_ALLOW", "@type": "xsd:string"}],"ids:comment": "  "},{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:RECIPIENT"},"ids:operator": { "@id": "idsc:DEFINES_AS"},"ids:rightOperand": [{"@value": "InformParty", "@type": "xsd:anyURI"}],"ids:comment": "  "}] ,"ids:pxpEndpoint":{"@type":"ids:PXP","ids:interfaceDescription":{"@value":"https://ids.org/PXP/interfaceDescription/notify","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/notify","@type":"anyURI"}}}]},{"@type":"ids:Duty","ids:action": [{"@id":"idsc:DELETE","ids:refinement": [{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:DATE_TIME"},"ids:operator": { "@id": "idsc:BEFORE"},"ids:rightOperand": [{"@type": "ids:Instant","ids:dateTime": {"@type": "xsd:datetimeStamp","@value": "2021-12-16T21:08"}}],"ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/date_time","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/date_time","@type":"anyURI"}}}] ,"ids:pxpEndpoint":{"@type":"ids:PXP","ids:interfaceDescription":{"@value":"https://ids.org/PXP/interfaceDescription/delete","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/delete","@type":"anyURI"}}}]}]},{"ids:target": {"@id":"http://target/"},"ids:action": [{"@id":"idsc:DISTRIBUTE"}],"ids:preDuty": [{"@type":"ids:Duty","ids:action": [{"@id":"idsc:NEXT_POLICY","ids:refinement": [{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:TARGET_POLICY"},"ids:operator": { "@id": "idsc:DEFINES_AS"},"ids:rightOperand": [{"@value": "Policy1", "@type": "xsd:anyURI"}],"ids:comment": "  ","ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/target_policy","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/target_policy","@type":"anyURI"}}}] ,"ids:pxpEndpoint":{"@type":"ids:PXP","ids:interfaceDescription":{"@value":"https://ids.org/PXP/interfaceDescription/next_policy","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/next_policy","@type":"anyURI"}}}]}],"ids:constraint": [{"@type":"ids:Constraint","ids:leftOperand": { "@id": "idsc:ARTIFACT_STATE"},"ids:operator": { "@id": "idsc:EQUALS"},"ids:rightOperand": [{"@value": "idsc:ANONYMIZED", "@type": "xsd:string"}],"ids:comment": "  ","ids:pipEndpoint":{"@type":"ids:PIP","ids:interfaceDescription":{"@value":"https://ids.org/PIP/interfaceDescription/artifact_state","@type":"anyURI"},"ids:endpointURI":{"@value":"https://consumer.org/PXPendpoint/artifact_state","@type":"anyURI"}}}]}]} DTPOLICY:The provider is an IDS party that is issuing the rule. Here the provider is the my-party party. This party is either the Data Owner or the Data Provider of the specified data asset in the IDS context.The consumer is an IDS party that is the recipient the of rule. Here the consumer is the consumer-party party.In this Policy AGREEMENT example, the ids:permission rule allows the Data Consumer to use the target asset.The identifier of this policy and the target asset are https://w3id.org/idsa/autogen/contract/complex-policy-access and http://target/, respectively.The my-party party restricts the usage of the data asset to a specific location; the Data Consumer is allowed to use the data asset when it's connector is located in location1.The my-party party restricts the usage of the data asset to a specific Data App; the Data Consumer is allowed to use the data asset when the Data App which will process the data is Application1.The my-party party restricts the usage of the data asset to a specific user roles in the user group of a specific Data Consumer; the Data Consumer is allowed to use the data asset when the user which will use the data has the role ADMIN.The my-party party restricts the usage of the data asset to a specific Connector of a specific Data Consumer; the Data Consumer is allowed to use the data asset when the connector which will process the data is Connector1.The my-party party restricts the usage of the data asset to a specific Data Consumer with a specific connector security level; the Data Consumer is allowed to use the data asset when the security level of the connector which will process the data is TRUST_SECURITY_PROFILE.The my-party party restricts the usage of the data asset to a specific State of a Data Consumer connector; the Data Consumer is allowed to use the data asset when the state in which the data will be processed is CONTRACTNOTTERMINATED.The my-party party restricts the usage of the data asset to a specific purpose; the Data Consumer is allowed to use the data asset for //example.com/ids-purpose/Marketing purpose.The my-party party restricts the usage of the data asset to a specific event; the Data Consumer is allowed to use the data asset when the event1 event has been triggered.This policy specifies that the Data Consumer is allowed to use the data asset (not more than) 222 times.The my-party party restricts the usage of the data asset to a specific time interval; The Data Consumer is allowed to use the data from this date: 2021-12-16T20:47 .The end date is: 2022-01-05T20:47.The my-party party restricts the usage of the data asset to a specific time interval; In this policy, the my-party party announces the Data Rent under specific condition; the Data Consumer is only allowed to use the data after paying 10 Euro.The Data Consumer can use the data for the duration of null (from the date that the agreement policy was issued!).The my-party party demands that the Data Consumer logs the information about the data usage.The location to store the logs is SystemDevice1 system.In this Policy AGREEMENT example, the ids:permission rule allows the Data Consumer to distribute the target asset.The identifier of this policy and the target asset are https://w3id.org/idsa/autogen/contract/complex-policy-access and http://target/, respectively.The next policy action expresses the allowable usages by third-parties; it is demanded that the usage of the data asset by the third party has to be limited to the conditions that are specified in the target policy.This policy specifies that the policy to be sent to the third party is Policy1 .
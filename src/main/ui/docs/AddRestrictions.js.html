<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: AddRestrictions.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: AddRestrictions.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file This file contains the date component
 * @author Tom Kollmer 
 */
import React, { useState } from "react";
import {
  Grid,
  MenuItem,
  Menu,
  Button,
  Typography,
} from "@material-ui/core";
import Input from "../components/controls/Input";
import ItemPicker from "../components/controls/ItemPicker";
import {
  purpose_list,
  sale_rent_list,
  state_list,
  security_level_list,
  role_list,
} from "../components/controls/InitialFieldListValues";
import Date from "../components/controls/Date";
import Remove from "../components/controls/Remove";
import Title from "../components/controls/Title";
import MultiSelectInputField from "../components/controls/MultiselectInputField";
import MenuItems from "../components/controls/MenuItems";

export default function AddRestrictions(props) {
  const {
    selectedComponents,
    valueHook,
    errors,
    removeComponent,
    removeEnteredData,
    classes,
  } = props;

  const [anchorEl, setAnchorEl] = useState(null);
  const handleClick = (event) => {
    setAnchorEl(event.currentTarget);
  };
  const addAll = () => {
    const dict = selectedComponents.availableComponents;
    dict.forEach(function (item) {
      if (!item.isVisible) {
        item.isVisible = true;
        selectedComponents.order.push(item.id);
      }
    });
  };
  const components = selectedComponents.order.map((c) => {
    switch (c) {
      case "location":
        return () => (
          &lt;Grid container key={"location"}>
            &lt;Title label="Restrict Location" />
            &lt;MultiSelectInputField
              name="location"
              valueHook={valueHook}
              placeholder="e.g. https://ontologi.es/place/DE"
              errors={errors}
            />
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "location");
                removeEnteredData(["location_input", "location_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "application":
        return () => (
          &lt;Grid container key={"application"}>
            &lt;Title label="Restrict Application" />
            &lt;MultiSelectInputField
              name="application"
              valueHook={valueHook}
              placeholder="e.g. http://example.com/ids/application/smart-app"             
              errors={errors}
            />
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "application");
                removeEnteredData(["application_input", "application_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "connector":
        return () => (
          &lt;Grid container key={"connector"}>
            &lt;Title label="Restrict Connector" />
            &lt;MultiSelectInputField
              name="connector"
              valueHook={valueHook}
              placeholder="e.g. http://example.com/ids/connector/connector1"             
              errors={errors}
            />
            {}
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "connector");
                removeEnteredData(["connector_input", "connector_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "securityLevel":
        return () => (
          &lt;Grid container key={"securityLevel"}>
            &lt;Title label="Restrict Security Level" />
            &lt;MultiSelectInputField
              name="securityLevel"
              valueHook={valueHook}
              placeholder=""             
              errors={errors}
              inputType={"itempicker"}
              itemList={security_level_list}
            />
            {}
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "securityLevel");
                removeEnteredData(["securityLevel_input", "securityLevel_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "state":
        return () => (
          &lt;Grid container key={"state"}>
            &lt;Title label="Restrict State" />
            &lt;MultiSelectInputField
              name="state"
              valueHook={valueHook}
              placeholder=""             
              errors={errors}
              inputType={"itempicker"}
              itemList={state_list}
            />
            {}
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "state");
                removeEnteredData(["state_input", "state_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "role":
        return () => (
          &lt;Grid container key={"role"}>
            &lt;Title label="Restrict User Role" />
            &lt;MultiSelectInputField
              name="role"
              valueHook={valueHook}
              placeholder=""             
              errors={errors}
              inputType={"itempicker"}
              itemList={role_list}
            />

            {}
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "role");
                removeEnteredData(["role_input", "role_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "purpose":
        return () => (
          &lt;Grid container key={"purpose"}>
            &lt;Title
              label="Restrict Purpose"
              subtitle="Any certified application in the market place uses the data for a specified purpose. \n You can restrict the usage of your data to specific applications by choosing your intended purpose from the list below*:"
            />
            &lt;MultiSelectInputField
              name="purpose"
              valueHook={valueHook}
              placeholder=""            
              errors={errors}
              inputType={"itempicker"}
              itemList={purpose_list}
            />
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "purpose");
                removeEnteredData(["purpose_input", "purpose_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "event":
        return () => (
          &lt;Grid container key={"event"}>
            &lt;Title label="Restrict Event" />
            &lt;MultiSelectInputField
              name="event"
              valueHook={valueHook}
              placeholder="e.g. http://example.com/ids/event/exhibition"            
              errors={errors}
            />
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "event");
                removeEnteredData(["event_input", "event_op"]);
              }}
            />
          &lt;/Grid>
        );
      case "interval":
        return () => (
          &lt;Grid container key={"interval"}>
            &lt;Title label="Restrict Time Interval" />
            &lt;Grid container xs={11} spacing={2}>
              &lt;Date
                name="restrictStartTime"
                label="Start Time*"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={4}
              />
              &lt;Date
                name="restrictEndTime"
                label="End Time*"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={4}
              />
            &lt;/Grid>
            &lt;Remove
              onClick={() => {
                removeEnteredData([
                  "restrictEndTime",
                  "restrictStartTime",
                ]);
                removeComponent("restrictions", "interval");
              }}
            />
          &lt;/Grid>
        );
      case "payment":
        return () => (
          &lt;Grid container key={"payment"}>
            &lt;Title label="Restrict Payment" />
            &lt;Grid container spacing={2} xs={11}>
              &lt;Input
                name="price"
                label="Payment (Euro)*"
                placeholder="e.g. 10"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={3}
              />
              &lt;ItemPicker
                name="payment"
                label="For Sale or Rent*"
                defaultValue=""
                ItemList={sale_rent_list}
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={3}
              />
            &lt;/Grid>
            &lt;Remove
              onClick={() => {
                removeEnteredData(["price", "payment"]);
                removeComponent("restrictions", "payment");
              }}
            />
          &lt;/Grid>
        );

      case "counter":
        return () => (
          &lt;Grid container key={"counter"}>
            &lt;Title label="Restrict Number of Usage" />
            &lt;Grid container xs={11} spacing={2}>
              &lt;Input
                name="counter"
                placeholder="e.g. 10"
                valueHook={valueHook}
                errors={errors}
                xs={3}
                sm={3}
                md={3}
              />
            &lt;/Grid>
            &lt;Remove
              onClick={() => {
                removeComponent("restrictions", "counter");
                removeEnteredData(["counter"]);
              }}
            />
          &lt;/Grid>
        );

        case "startTime":
          return () => (
            &lt;Grid container key={"startTime"}>
              &lt;Title label="Restrict Start Time" />
              &lt;Grid container xs={11} spacing={2}>
                &lt;Date
                  name="restrictStartTime"
                  label="Start Time"
                  valueHook={valueHook}
                  errors={errors}
                  sm={11}
                  md={5}
                />
              &lt;/Grid>
              &lt;Remove
                onClick={() => {
                  removeEnteredData(["restrictStartTime"]);
                  removeComponent("restrictions", "startTime");
                }}
              />
            &lt;/Grid>
          );

      case "endTime":
        return () => (
          &lt;Grid container key={"endTime"}>
            &lt;Title label="Restrict End Time" />
            &lt;Grid container xs={11} spacing={2}>
              &lt;Date
                name="restrictEndTime"
                label="End Time"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={5}
              />
            &lt;/Grid>
            &lt;Remove
              onClick={() => {
                removeEnteredData(["restrictEndTime"]);
                removeComponent("restrictions", "endTime");
              }}
            />
          &lt;/Grid>
        );

      case "duration":
        return () => (
          &lt;Grid container key={"duration"}>
            &lt;Title label="Restrict Time Duration" />
            &lt;Grid container sm={11} spacing={2}>
              &lt;Input
                name="durationYear"
                label="Year (Optional)"
                placeholder="e.g. 2021"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={3}
              />
              &lt;Input
                name="durationMonth"
                label="Month (Optional)"
                placeholder="e.g. 01"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={3}
              />

              &lt;Input
                name="durationDay"
                label="Day (Optional)"
                placeholder="e.g. 01"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={3}
              />
              &lt;Input
                name="durationHour"
                label="Hour (Optional)"
                placeholder="e.g. 12"
                valueHook={valueHook}
                errors={errors}
                sm={11}
                md={3}
              />
            &lt;/Grid>
            &lt;Remove
              onClick={() => {
                removeEnteredData([
                  "durationYear",
                  "durationMonth",
                  "specifyBeginTime",
                  "durationDay",
                  "durationHour",
                ]);
                removeComponent("restrictions", "duration");
              }}
            />
          &lt;/Grid>
        );
      default:
        return null;
    }
  });
  return (
    &lt;>
      {selectedComponents.order.length > 0 ? (
        &lt;>
          &lt;Typography
            variant="h5"
            component="div"
            id="subTitle1"
            className={classes.subtitle}
          >
            Restrictions
          &lt;/Typography>

          {components.map((c) => c())}

          {selectedComponents.order.length &lt;= 12 ? (
            &lt;Grid item xs={12} container justifyContent="center">
              &lt;Grid item xs={5}>
                &lt;Button
                  color="primary"
                  aria-controls="simple-menu"
                  aria-haspopup="true"
                  onClick={handleClick}
                  className={classes.addBtn}
                  id="Add Component"
                >
                  Add Restriction
                &lt;/Button>
              &lt;/Grid>
              &lt;Menu
                id="simple-menu"
                anchorEl={anchorEl}
                keepMounted
                open={Boolean(anchorEl)}
                onClose={() => setAnchorEl(null)}
              >
                &lt;MenuItems
                  selectedComponents={selectedComponents}
                  setAnchorEl={setAnchorEl}
                />

                &lt;MenuItem
                  onClick={() => {
                    addAll();
                    setAnchorEl(null);
                  }}
                  id="all"
                >
                  All
                &lt;/MenuItem>
              &lt;/Menu>
            &lt;/Grid>
          ) : null}
        &lt;/>
      ) : (
        &lt;Grid item xs={12} container justifyContent="center">
          &lt;Grid item xs={5}>
            &lt;Button
              color="primary"
              aria-controls="simple-menu"
              aria-haspopup="true"
              onClick={handleClick}
              className={classes.addBtn}
              id="Add Component"
            >
              Add Restriction
            &lt;/Button>
          &lt;/Grid>
          &lt;Menu
            id="simple-menu"
            anchorEl={anchorEl}
            keepMounted
            open={Boolean(anchorEl)}
            onClose={() => setAnchorEl(null)}
          >
            &lt;MenuItems
              selectedComponents={selectedComponents}
              setAnchorEl={setAnchorEl}
            />

            &lt;MenuItem
              onClick={() => {
                addAll();
                setAnchorEl(null);
              }}
              id="all"
            >
              All
            &lt;/MenuItem>
          &lt;/Menu>
        &lt;/Grid>
      )}
    &lt;/>
  );
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addDateSuffix">addDateSuffix</a></li><li><a href="global.html#application_list">application_list</a></li><li><a href="global.html#artifact_state_list">artifact_state_list</a></li><li><a href="global.html#checkComplexPolicyFields">checkComplexPolicyFields</a></li><li><a href="global.html#checkHeader">checkHeader</a></li><li><a href="global.html#checkMultiInputField">checkMultiInputField</a></li><li><a href="global.html#connector_list">connector_list</a></li><li><a href="global.html#convertDateToIso">convertDateToIso</a></li><li><a href="global.html#data_consumers">data_consumers</a></li><li><a href="global.html#deletePolicy">deletePolicy</a></li><li><a href="global.html#editPolicy">editPolicy</a></li><li><a href="global.html#event_list">event_list</a></li><li><a href="global.html#exportPolicy">exportPolicy</a></li><li><a href="global.html#getAllPolicies">getAllPolicies</a></li><li><a href="global.html#handleClick">handleClick</a></li><li><a href="global.html#handleClose">handleClose</a></li><li><a href="global.html#handleInputChange">handleInputChange</a></li><li><a href="global.html#handleSubmit">handleSubmit</a></li><li><a href="global.html#isDateOrEmpty">isDateOrEmpty</a></li><li><a href="global.html#isIntOrEmpty">isIntOrEmpty</a></li><li><a href="global.html#isNotEmpty">isNotEmpty</a></li><li><a href="global.html#isValidDate">isValidDate</a></li><li><a href="global.html#isValidDateInterval">isValidDateInterval</a></li><li><a href="global.html#isValidFloat">isValidFloat</a></li><li><a href="global.html#isValidInt">isValidInt</a></li><li><a href="global.html#isValidUrl">isValidUrl</a></li><li><a href="global.html#jsonOdrlPolicy">jsonOdrlPolicy</a></li><li><a href="global.html#log_level_list">log_level_list</a></li><li><a href="global.html#modifier_list">modifier_list</a></li><li><a href="global.html#negotiatePolicyGetResponse">negotiatePolicyGetResponse</a></li><li><a href="global.html#negotiatePolicyGetUUID">negotiatePolicyGetUUID</a></li><li><a href="global.html#OdrlPolicy">OdrlPolicy</a></li><li><a href="global.html#operator_list">operator_list</a></li><li><a href="global.html#policy_types">policy_types</a></li><li><a href="global.html#purpose_list">purpose_list</a></li><li><a href="global.html#recreateSelectedCompFromJson">recreateSelectedCompFromJson</a></li><li><a href="global.html#recreateSelectedDistriCompFromJson">recreateSelectedDistriCompFromJson</a></li><li><a href="global.html#recreateSelectedPostduCompFromJson">recreateSelectedPostduCompFromJson</a></li><li><a href="global.html#recreateSelectedPreduCompFromJson">recreateSelectedPreduCompFromJson</a></li><li><a href="global.html#resetStates">resetStates</a></li><li><a href="global.html#retryWrapper">retryWrapper</a></li><li><a href="global.html#role_list">role_list</a></li><li><a href="global.html#sale_rent_list">sale_rent_list</a></li><li><a href="global.html#security_level_list">security_level_list</a></li><li><a href="global.html#state_list">state_list</a></li><li><a href="global.html#time_units">time_units</a></li><li><a href="global.html#validation">validation</a></li><li><a href="global.html#viewPolicy">viewPolicy</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Wed Jul 20 2022 16:20:02 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
